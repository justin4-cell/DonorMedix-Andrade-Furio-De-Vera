<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DonorMedix · Donate Medicines</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --ink:#0f172a; --muted:#64748b; --line:#e2e8f0;
      --bg:#f8fafc; --card:#ffffff;
      --shadow:0 8px 22px rgba(2,6,23,.06);
      --radius:14px; --danger:#ef4444;
      --brand-2:#38bdf8;
    }
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      line-height:1.5;
      color:var(--ink);
      background: url("hospital background2.jpg") center/cover no-repeat fixed;
      min-height:100vh;
    }

    /* HEADER */
    header.site{
      position:sticky;top:0;z-index:30;background:#0f172a;
      border-bottom:1px solid rgba(226,232,240,.15);
      box-shadow:0 2px 10px rgba(2,6,23,.25)
    }
    .header-container{
      max-width:72rem;margin:0 auto;padding:.9rem 1.25rem;
      display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.9rem
    }
    .logo{
      display:flex;align-items:center;gap:.6rem;
      color:#fff;text-decoration:none;font-weight:800;font-size:1.15rem;letter-spacing:.2px;
    }
    .logo-img{
      width:40px;height:40px;object-fit:contain;border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,.12);background:#fff0;flex:0 0 40px;
    }
    .logo-text{color:#fff;font-weight:800;font-size:1.18rem}
    nav.nav{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}
    .nav-link{
      display:inline-flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;
      font-weight:800;padding:.5rem .7rem;border-radius:10px;transition:all .15s
    }
    .nav-link svg{width:18px;height:18px;fill:currentColor}
    .nav-link:hover{background:#ffffff;color:#0f172a;transform:translateY(-1px)}
    .nav-link.active{background:rgba(255,255,255,.16);color:#ffffff}
    .header-actions{display:flex;gap:.5rem;align-items:center}
    .bell-btn{
      position:relative;border:none;background:transparent;color:#fff;
      padding:.55rem;border-radius:10px;cursor:pointer;transition:background .15s
    }
    .bell-btn:hover{background:rgba(255,255,255,.12)}
    .bell-icon{width:22px;height:22px;display:block}
    .badge{
      position:absolute;top:-4px;right:-4px;background:#ef4444;color:#fff;
      border:2px solid #0f172a;border-radius:999px;padding:1px 6px;font-size:.72rem;
      font-weight:900;line-height:1;display:none;min-width:18px;text-align:center
    }
    .sign-in-btn{
      padding:.6rem .95rem;font:800 .9375rem system-ui,sans-serif;border-radius:10px;
      display:inline-flex;align-items:center;justify-content:center;cursor:pointer;
      background:#ffffff;color:#0f172a;border:1px solid #e2e8f0;transition:transform .15s
    }
    .sign-in-btn:hover{transform:translateY(-1px)}
    @media(max-width:720px){
      .header-container{grid-template-columns:1fr auto;grid-template-rows:auto auto}
      .logo{grid-column:1/2;grid-row:1}
      .header-actions{grid-column:2/3;grid-row:1;justify-self:end}
      nav.nav{grid-column:1/3;grid-row:2;justify-content:center;margin-top:.5rem}
    }

    /* HERO */
    .hero{
      width:100%;
      background:linear-gradient(180deg,rgba(56,189,248,0.06) 0%, #ffffff 100%);
      border-bottom:1px solid var(--line);
      box-shadow:0 10px 30px rgba(56,189,248,.08)
    }
    .hero-inner{
      max-width:1100px;margin:0 auto;padding:1.1rem 1.5rem 1rem;text-align:center
    }
    .hero h1{font-size:2rem;color:#0f172a}
    .hero p{color:#0f172a;margin-top:.25rem}

    /* MAIN LAYOUT */
    .container{max-width:1100px;margin:0 auto;padding:1rem 1.5rem 2rem}
    .grid{display:grid;grid-template-columns:1fr;gap:1rem}
    @media(min-width:1024px){
      .grid.has-sidebar{grid-template-columns:2fr 1fr}
    }

    /* SWITCHER PILLS */
    .switcher{
      margin:.4rem auto .8rem;
      display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center
    }
    .pill{
      padding:.62rem 1.05rem;border-radius:999px;border:1px solid #bfe9ff;
      background:#f0f9ff;color:#0f172a;font-weight:800;cursor:pointer;transition:all .15s;
    }
    .pill:hover{
      background:#ffffff;color:#0f172a;border-color:#0f172a;transform:translateY(-1px);
    }
    .pill.active{
      background:var(--brand-2);color:#ffffff;border-color:var(--brand-2);
    }

    /* PANELS */
    .panel{
      width:100%;background:var(--card);border:1px solid var(--line);
      border-radius:var(--radius);box-shadow:var(--shadow);padding:1.25rem;
    }
    .panel h2{color:#0f172a;font-size:1.25rem;margin-bottom:.75rem}
    .muted{color:var(--muted);font-size:.92rem}

    /* FORM */
    form.donation-form{display:flex;flex-direction:column;gap:1rem}
    .form-row{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:768px){.form-row{grid-template-columns:1fr 1fr}}
    .field{
      display:flex;align-items:center;gap:10px;border:1px solid var(--line);
      border-radius:12px;padding:10px 12px;background:#fff
    }
    .field:focus-within{
      border-color:var(--brand-2);
      box-shadow:0 0 0 3px rgba(56,189,248,.18)
    }
    .field input[type=text],
    .field input[type=date],
    .field select,
    .field textarea{
      border:none;outline:none;background:transparent;width:100%;
      font-size:.95rem;color:#111827;
    }
    textarea{min-height:110px;resize:vertical}
    label{font-weight:900;color:#0f172a;display:block;margin:2px 0 6px}
    .required{color:#ef4444;font-weight:900}
    .upload-wrap{display:flex;align-items:center;gap:10px}
    .thumb{
      width:88px;height:88px;border-radius:12px;border:1px solid var(--line);
      overflow:hidden;display:grid;place-items:center;background:#f8fafc
    }
    .thumb img{width:100%;height:100%;object-fit:cover}
    .btn{padding:.65rem 1rem;border-radius:10px;font-weight:800;border:1px solid transparent;cursor:pointer}
    .btn-primary{background:#0f172a;color:#fff;border-color:#0f172a}
    .btn-primary:hover{filter:brightness(1.06)}
    .btn-ghost{background:#fff;color:#0f172a;border:1px dashed #cbd5e1}
    .btn-ghost:hover{background:#f8fafc}

    /* REQUESTS / DONATIONS AREA */
    .requests-panel{width:100%;margin-top:1rem;color:#0f172a;}
    .requests-heading-row{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;margin-bottom:.35rem;
    }
    .requests-panel h3{font-size:1.25rem;font-weight:800;color:#0f172a}
    .requests-panel .muted-count{font-size:.9rem;color:#64748b}

    .info-panel{
      background:var(--card);border:1px solid rgba(226,232,240,1);
      border-radius:14px;box-shadow:0 8px 22px rgba(2,6,23,0.06);
      padding:16px 20px;margin-bottom:.6rem;
    }
    .cards-panel{
      background:transparent;border:transparent;
      border-radius:14px;box-shadow:0 8px 22px rgba(2,6,23,0.06);
      padding:18px 22px 20px;
    }

    .filters-row{
      display:flex;gap:.5rem;flex-wrap:wrap;align-items:center;margin-top:.5rem;
    }
    .filters-row .field{padding:6px 10px}

    /* CARD DESIGN (copied from browse) */
    .browse-grid{
      display:grid;
      grid-template-columns:1fr;
      gap:1rem;
      margin-bottom:.5rem;
    }
    @media(min-width:640px){
      .browse-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media(min-width:1024px){
      .browse-grid{grid-template-columns:repeat(3,1fr)}
    }

    .card{
      background:white;
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow:0 16px 32px rgba(2,6,23,.06), 0 4px 12px rgba(2,6,23,.04);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      transition:transform .15s, box-shadow .15s;
    }
    .card:hover{
      transform:translateY(-2px);
      box-shadow:0 20px 42px rgba(2,6,23,.10);
    }
    .card__body{
      padding:1rem;
      display:flex;
      flex-direction:column;
      gap:.4rem;
    }
    .card__footer{
      margin-top:auto;
      padding:0 1rem 1rem;
      display:flex;
      justify-content:flex-end;
    }
    .card__btn-open{
      padding:.45rem .95rem;
      border-radius:999px;
      border:1px solid #0f172a;
      background:#0f172a;
      color:#ffffff;
      font-size:.8rem;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
    }
    .card__btn-open:hover{filter:brightness(1.05)}
    .title{
      font-weight:900;margin:0;color:#0f172a;
      font-size:1.05rem;letter-spacing:.1px;
    }
    .muted{color:var(--muted);font-size:.9rem}

    /* SIDEBAR */
    .sidebar{display:flex;flex-direction:column;gap:1rem}
    .impact-grid{display:grid;grid-template-columns:1fr;gap:.85rem}
    .stat{
      display:grid;align-items:center;justify-items:start;
      padding:1rem;border:1px dashed rgba(56,189,248,.25);border-radius:12px;
    }
    .stat .val{font-size:1.8rem;font-weight:800;color:#0f172a}
    @media(min-width:1200px){.stat .val{font-size:2.6rem}}

    /* MODAL */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(15,23,42,.65);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:60;
      padding:1.5rem;
    }
    .modal-backdrop[hidden]{display:none;}
    .modal-card{
      max-width:780px;
      width:100%;
      background:#ffffff;
      border-radius:18px;
      box-shadow:0 24px 60px rgba(15,23,42,.4);
      display:flex;
      flex-direction:row;
      overflow:hidden;
      border:1px solid #e2e8f0;
    }
    .modal-main{
      flex:1;
      padding:1.25rem 1.3rem;
      display:flex;
      flex-direction:column;
      gap:.75rem;
    }
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:.75rem;
      border-bottom:1px solid #e5e7eb;
      padding-bottom:.5rem;
    }
    .modal-title{
      font-size:1.05rem;
      font-weight:800;
      color:#0f172a;
    }
    .modal-section-title{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.09em;
      color:#94a3b8;
      font-weight:800;
    }
    .modal-chip{
      display:inline-flex;
      align-items:center;
      padding:.25rem .7rem;
      border-radius:999px;
      font-size:.72rem;
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:.08em;
      background:#eff6ff;
      color:#1d4ed8;
      border:1px solid #bfdbfe;
    }
    .modal-close{
      border:none;
      background:transparent;
      font-size:1.2rem;
      line-height:1;
      cursor:pointer;
      color:#64748b;
    }
    .modal-details{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:.55rem .75rem;
      margin-top:.3rem;
    }
    .modal-details-row label{
      font-size:.78rem;
      font-weight:700;
      color:#64748b;
      text-transform:uppercase;
      letter-spacing:.06em;
      display:block;
    }
    .modal-details-row span{
      font-size:.9rem;
      color:#0f172a;
      font-weight:500;
    }
    .modal-description{
      margin-top:.5rem;
      font-size:.9rem;
      color:#111827;
      line-height:1.5;
      background:#f9fafb;
      border-radius:12px;
      padding:.65rem .75rem;
      border:1px solid #e5e7eb;
    }
    .modal-right{
      width:260px;
      background:#f1f5f9;
      display:grid;
      place-items:center;
      border-left:1px solid #e5e7eb;
      position:relative;
      overflow:hidden;
    }
    .modal-right img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .modal-image-actions{
      position:absolute;
      right:10px;
      bottom:10px;
      display:flex;
      gap:6px;
    }
    .modal-btn-small{
      border:none;
      border-radius:999px;
      padding:.25rem .6rem;
      font-size:.75rem;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      text-decoration:none;
      white-space:nowrap;
    }
    .modal-btn-edit{
      background:#0f172a;
      color:#ffffff;
    }
    .modal-btn-delete{
      background:#fee2e2;
      color:#b91c1c;
    }
    .modal-btn-message{
      background:#38bdf8;
      color:#0f172a;
    }
    @media(max-width:720px){
      .modal-card{flex-direction:column;}
      .modal-right{
        width:100%;
        max-height:260px;
      }
    }

    /* FOOTER */
    .footer{background:#0f172a;color:#cbd5e1;padding:3.25rem 1rem 1.25rem}
    .footer .wrap{max-width:1100px;margin:0 auto}
    .footer-top{
      display:flex;flex-wrap:wrap;justify-content:space-between;
      column-gap:4rem;row-gap:3rem;
    }
    .footer-about{flex:1 1 320px}
    .footer-logo{font-size:1.6rem;color:#f8fafc;font-weight:900}
    .footer-logo span{color:#38bdf8}
    .footer-about p{margin:10px 0 14px;color:#e2e8f0}
    .social{display:flex;gap:12px}
    .social a{
      display:inline-flex;align-items:center;justify-content:center;
      width:38px;height:38px;border-radius:10px;background:#0b1220;
      color:#e2e8f0;text-decoration:none;transition:.2s;border:1px solid #1e293b;
    }
    .social a:hover{background:#111827}
    .footer-cols{
      display:flex;flex:2 1 600px;flex-wrap:wrap;
      column-gap:5rem;row-gap:2rem;
    }
    .footer h3{font-size:1rem;color:#f8fafc;margin-bottom:.75rem}
    .footer ul{list-style:none}
    .footer li+li{margin-top:.5rem}
    .footer a{color:#cbd5e1;text-decoration:none}
    .footer a:hover{color:#38bdf8}
    .footer-hr{border:none;border-top:1px solid #1e293b;margin:2rem 0 1.25rem}
    .footer-bottom{
      display:flex;justify-content:space-between;flex-wrap:wrap;
      color:#ffffff;font-size:.9rem
    }
    @media(max-width:768px){
      .footer-bottom{flex-direction:column;gap:.5rem;align-items:center;text-align:center}
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header class="site">
    <div class="header-container">
      <a class="logo" href="index.html" aria-label="DonorMedix Home">
        <img class="logo-img" src="donormedix.logo.png" alt="DonorMedix logo" />
        <span class="logo-text">DonorMedix</span>
      </a>

      <nav class="nav">
        <a href="home.html" class="nav-link">
          <svg viewBox="0 0 24 24"><path d="M12 3 2 12h3v8h6v-5h2v5h6v-8h3L12 3z"/></svg>
          Home
        </a>

        <a class="nav-link" href="browse.html">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M10.5 3a7.5 7.5 0 1 1 0 15c-1.8 0-3.45-.63-4.74-1.69L3.7 18.87a1 1 0 0 1-1.41-1.41l2.06-2.06A7.47 7.47 0 0 1 3 10.5 7.5 7.5 0 0 1 10.5 3zm0 2a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11zM20.3 20.3a1 1 0 0 1-1.41 0l-3.28-3.28a1 1 0 1 1 1.41-1.41l3.28 3.28a1 1 0 0 1 0 1.41z"/>
          </svg>
          Browse
        </a>

        <a href="donate.html" class="nav-link active">
          <svg viewBox="0 0 24 24"><path d="M12 21.35 10.55 20.03C5.4 15.36 2 12.28 2 8.5A4.5 4.5 0 0 1 6.5 4c1.76 0 3.41.81 4.5 2.09A6 6 0 0 1 22 8.5c0 3.78-3.4 6.86-8.55 11.53L12 21.35z"/></svg>
          Donate
        </a>

        <a href="request.html" class="nav-link">
          <svg viewBox="0 0 24 24">
            <path d="M9 3h6a2 2 0 0 1 2 2h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1a2 2 0 0 1 2-2Zm0 2a1 1 0 0 0-1 1H7v2h10V6h-1a1 1 0 0 0-1-1H9Zm3 5a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2H9a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"/>
          </svg>
          Requests
        </a>
      </nav>

      <div class="header-actions">
        <button class="bell-btn" aria-label="Notifications" id="notifBtn">
          <svg class="bell-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 22a2.5 2.5 0 0 0 2.45-2h-4.9A2.5 2.5 0 0 0 12 22Zm6-6V11a6 6 0 1 0-12 0v5l-2 2v1h16v-1l-2-2Z"/>
          </svg>
          <span class="badge" id="notifBadge">0</span>
        </button>

        <button class="sign-in-btn" onclick="window.location.href='profile.html'">Sign In</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <h1>Donate Medicine</h1>
      <p>Help others by donating safe, in-date medicines and medical supplies</p>
    </div>
  </section>

  <!-- MAIN -->
  <main class="container">
    <!-- Switcher -->
    <div class="switcher" role="tablist" aria-label="Donation sections">
      <button class="pill" data-view="all" aria-selected="false">All Donations</button>
      <button class="pill" data-view="mine" aria-selected="false">My Donations</button>
      <button class="pill active" data-view="create" aria-selected="true">Create Donations</button>
    </div>

    <div class="grid" id="mainGrid">
      <!-- CREATE DONATION PANEL -->
      <section class="panel" id="create-panel">
        <h2>Donation Details</h2>
        <form id="donationForm" class="donation-form" autocomplete="off">
          <div>
            <label for="medicineName">Medicine/Item Name <span class="required">*</span></label>
            <div class="field">
              <input id="medicineName" list="medicinesList" type="text" placeholder="e.g., Paracetamol 500 mg" required />
              <datalist id="medicinesList"></datalist>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="category">Category <span class="required">*</span></label>
              <div class="field">
                <select id="category" required>
                  <option value="Pain Relief">Pain Relief</option>
                  <option value="Antibiotic">Antibiotic</option>
                  <option value="Cough">Cough</option>
                  <option value="Other" selected>Other</option>
                </select>
              </div>
            </div>
            <div>
              <label for="dosageForm">Dosage Form</label>
              <div class="field">
                <select id="dosageForm">
                  <option value="">Select form…</option>
                  <option value="tablets-capsules">Tablets/Capsules</option>
                  <option value="oral-liquid">Oral Liquid (syrup)</option>
                  <option value="reconstituted-suspension">Reconstituted Antibiotic (suspension)</option>
                  <option value="cream-ointment-tube">Cream/Ointment (tube)</option>
                  <option value="cream-ointment-tub">Cream/Ointment (tub)</option>
                  <option value="eye-ear-nose-drops">Eye/Ear/Nose Drops (multi-dose)</option>
                  <option value="insulin">Insulin (vial/pen)</option>
                  <option value="inhaler">Inhaler</option>
                  <option value="ors">Oral Rehydration Salts (prepared)</option>
                  <option value="other">Other</option>
                </select>
              </div>
            </div>
          </div>

          <div>
            <label for="description">Description <span class="required">*</span></label>
            <div class="field" style="align-items:flex-start">
              <textarea id="description" placeholder="Brand, strength, dosage, important notes…" required></textarea>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="quantity">Quantity <span class="required">*</span></label>
              <div class="field"><select id="quantity" required></select></div>
            </div>
            <div>
              <label for="expiryDate">Expiry Date <span class="required">*</span></label>
              <div class="field"><input id="expiryDate" type="date" required /></div>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="condition">Condition <span class="required">*</span></label>
              <div class="field">
                <select id="condition" required>
                  <option value="sealed">Sealed / Unopened</option>
                  <option value="opened">Opened but unused</option>
                  <option value="partial">Partially used</option>
                </select>
              </div>
            </div>
            <div>
              <label for="urgencyLevel">Urgency Level</label>
              <div class="field">
                <select id="urgencyLevel">
                  <option value="low">Low</option>
                  <option value="medium" selected>Medium</option>
                  <option value="high">High</option>
                  <option value="urgent">Urgent</option>
                </select>
              </div>
            </div>
          </div>

          <!-- PHOTO -->
          <div>
            <label for="cloudinaryUploadBtn">Upload Photo <span class="required">*</span></label>
            <div class="upload-wrap">
              <div class="thumb">
                <img
                  id="imagePreview"
                  alt="Preview"
                  style="display:none;width:100%;height:100%;object-fit:cover;border-radius:12px;"
                >
              </div>

              <button
                type="button"
                class="btn btn-ghost"
                id="cloudinaryUploadBtn"
              >
                Choose image
              </button>

              <input type="hidden" id="imageUrl" name="imageUrl">
            </div>
          </div>

          <!-- LOCATION -->
          <div>
            <label>Pickup Location <span class="required">*</span></label>
            <div class="form-row">
              <div class="field"><select id="selRegion"><option value="">Select Region…</option></select></div>
              <div class="field"><select id="selProvince" disabled><option value="">Select Province…</option></select></div>
            </div>
            <div class="form-row">
              <div class="field"><select id="selCityMun" disabled><option value="">Select City/Municipality…</option></select></div>
              <div class="field"><select id="selBarangay" disabled><option value="">Select Barangay…</option></select></div>
            </div>
            <div class="field" style="margin-top:10px">
              <input id="locationText" type="text" placeholder="Or type an address/landmark (optional)" />
            </div>
            <p class="muted" style="margin-top:6px">
              If you skip the dropdowns, we’ll use your saved profile location.
            </p>
          </div>

          <!-- BUTTONS -->
          <div style="display:flex;gap:8px;margin-top:.25rem">
            <button type="submit" class="btn btn-primary">Submit Donation</button>
            <button type="button" class="btn btn-ghost" id="btnBack">Back</button>
          </div>

          <p class="muted" style="margin-top:10px">
            We accept only medicines that are in original packaging and not expired.
          </p>
        </form>
      </section>

      <!-- ALL DONATIONS -->
      <section class="requests-panel" id="all-donations-panel" style="display:none">
        <section class="info-panel">
          <div class="requests-heading-row">
            <h3>All Donations</h3>
            <div class="muted-count" id="allDonationsCount" aria-live="polite">
              Showing community donations
            </div>
          </div>

          <div class="filters-row" role="region" aria-label="All donations filters">
            <div style="min-width:200px">
              <div class="field" style="gap:8px; display:flex; align-items:center;">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
                  <path d="M10 3H5a2 2 0 0 0-2 2v5l9.59 9.59a2 2 0 0 0 2.82 0l4.18-4.18a2 2 0 0 0 0-2.82L10 3Zm-5 2h4.59l9 9L19 14.59l-9-9H5Zm3 1.5A1.5 1.5 0 1 1 6.5 8 1.5 1.5 0 0 1 8 6.5Z"/>
                </svg>
                <select id="filterCategory" aria-label="Filter by category">
                  <option value="">All Categories</option>
                  <option value="Pain Relief">Pain Relief</option>
                  <option value="Antibiotic">Antibiotic</option>
                  <option value="Cough">Cough</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>

            <div style="min-width:180px">
              <div class="field" style="gap:8px; display:flex; align-items:center;">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
                  <path d="M13.5 2.5s2 2 2 5c0 1.5-.5 2.5-1 3 0 0 3-1 3-4.5 2.5 2 3 5 2 7.5-1.5 3.5-5 5.5-8.5 5.5S4 17.5 4 14c0-3.5 2.5-6.5 6-7.5-.5 1-.5 2.5 0 3.5 1-1 2.5-3.5 3.5-7.5Z"/>
                </svg>
                <select id="filterUrgency" aria-label="Filter by urgency">
                  <option value="">All Urgency Levels</option>
                  <option value="low">Low</option>
                  <option value="medium">Medium</option>
                  <option value="high">High</option>
                  <option value="urgent">Urgent</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <section class="cards-panel">
          <div class="browse-grid" id="allDonationsList">
            <!-- SAMPLE CARDS (mark owner as other or me) -->
            <article class="card"
              data-owner="other"
              data-name="Paracetamol 500mg Tablets"
              data-category="Pain Relief"
              data-dosage="Tablets · 500mg"
              data-description="Used to relieve mild to moderate pain and reduce fever."
              data-quantity="2 boxes (20 tablets each)"
              data-expiration="November 2025"
              data-condition="Sealed blister packs, stored at room temperature"
              data-urgency="Medium"
              data-location="Quezon City, Metro Manila"
              data-image="paracetamol.jpg">
              <div class="card__body">
                <h3 class="title">Paracetamol 500mg Tablets</h3>
                <p class="muted">Donated by Maria Santos</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="other"
              data-name="Amoxicillin 500mg Capsules"
              data-category="Antibiotic"
              data-dosage="Capsules · 500mg"
              data-description="Broad-spectrum antibiotic used for many common bacterial infections."
              data-quantity="1 box (30 capsules)"
              data-expiration="July 2026"
              data-condition="Unopened box, stored properly"
              data-urgency="High"
              data-location="Makati City"
              data-image="amoxicillin.jpg">
              <div class="card__body">
                <h3 class="title">Amoxicillin 500mg Capsules</h3>
                <p class="muted">Donated by Juan Dela Cruz</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="other"
              data-name="Salbutamol Inhaler"
              data-category="Bronchodilator"
              data-dosage="Metered-dose inhaler"
              data-description="Relieves bronchospasm in patients with asthma or COPD."
              data-quantity="1 inhaler"
              data-expiration="March 2026"
              data-condition="Box slightly worn, inhaler unused"
              data-urgency="Urgent"
              data-location="Pasig City"
              data-image="salbutamol-inhaler.jpg">
              <div class="card__body">
                <h3 class="title">Salbutamol Inhaler</h3>
                <p class="muted">Donated by City Pharmacy Partner</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>
          </div>
        </section>
      </section>

      <!-- MY DONATIONS -->
      <section class="requests-panel" id="my-donations-panel" style="display:none;">
        <section class="info-panel">
          <div class="requests-heading-row">
            <h3>My Donations</h3>
            <div class="muted-count" id="myDonationsCount" aria-live="polite">
              Showing my donations
            </div>
          </div>
        </section>

        <section class="cards-panel">
          <div class="browse-grid" id="myDonationsList" aria-live="polite">
            <!-- SAMPLE CARDS FOR CURRENT USER (owner=me) -->
            <article class="card"
              data-owner="me"
              data-name="Ibuprofen 400mg Tablets"
              data-category="Pain Relief"
              data-dosage="Tablets · 400mg"
              data-description="For relief of mild to moderate pain, inflammation, and fever."
              data-quantity="1 bottle (30 tablets)"
              data-expiration="May 2026"
              data-condition="Unopened original bottle"
              data-urgency="Low"
              data-location="Caloocan City"
              data-image="ibuprofen.jpg">
              <div class="card__body">
                <h3 class="title">Ibuprofen 400mg Tablets</h3>
                <p class="muted">My donation · Created Jan 10, 2025</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="me"
              data-name="Adult Cough Syrup"
              data-category="Cough"
              data-dosage="Oral liquid · 120ml"
              data-description="Cough syrup for adults, helps relieve dry and productive cough."
              data-quantity="2 bottles"
              data-expiration="September 2025"
              data-condition="Sealed bottles"
              data-urgency="Medium"
              data-location="Manila City"
              data-image="adult-cough-syrup.jpg">
              <div class="card__body">
                <h3 class="title">Adult Cough Syrup</h3>
                <p class="muted">My donation · Created Jan 18, 2025</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="me"
              data-name="Multivitamins Capsules"
              data-category="Other"
              data-dosage="Capsules"
              data-description="Daily multivitamins to support overall health and immunity."
              data-quantity="3 bottles (60 capsules each)"
              data-expiration="January 2027"
              data-condition="Unopened and sealed"
              data-urgency="Low"
              data-location="Taguig City"
              data-image="multivitamins.jpg">
              <div class="card__body">
                <h3 class="title">Multivitamins Capsules</h3>
                <p class="muted">My donation · Created Jan 22, 2025</p>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>
          </div>
        </section>
      </section>

      <!-- SIDEBAR (only for Create view) -->
      <aside class="sidebar" id="pageSidebar" style="display:none">
        <section class="panel" style="height:max-content">
          <h2>Donation Guidelines</h2>
          <ul style="display:grid;gap:.6rem;list-style:none;margin-bottom:.25rem">
            <li>Only donate medicines that are not expired or close to expiry.</li>
            <li>Keep original packaging, leaflets and intact labels.</li>
            <li>Follow storage conditions (temperature, light, moisture).</li>
            <li>No controlled drugs or prescription-only meds without proper authorization.</li>
            <li>Avoid donating opened liquids or creams unless sealed and clearly in date.</li>
          </ul>
        </section>

        <section class="panel" style="height:max-content">
          <h2>Your Stats</h2>
          <div class="impact-grid">
            <div class="stat"><div class="val" id="youDonations">0</div><div class="muted">Your Donations</div></div>
            <div class="stat"><div class="val" id="youImpactPeople">0</div><div class="muted">People You Helped*</div></div>
          </div>
        </section>

        <section class="panel" style="height:max-content">
          <h2>Community Impact</h2>
          <div class="impact-grid">
            <div class="stat"><div class="val" id="allDonations">0</div><div class="muted">Medicines Donated</div></div>
            <div class="stat"><div class="val" id="peopleHelped">0</div><div class="muted">People Helped</div></div>
          </div>
        </section>
      </aside>
    </div>
  </main>

  <!-- MODAL ROOT -->
  <div id="dmModal" class="modal-backdrop" hidden>
    <div class="modal-card">
      <div class="modal-main">
        <div class="modal-header">
          <div>
            <div class="modal-section-title" id="modalTypeLabel">Donation</div>
            <div class="modal-title" id="modalName">Medicine name</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:.4rem;">
            <span class="modal-chip" id="modalCategoryChip">Category</span>
            <button class="modal-close" type="button" id="modalCloseBtn">&times;</button>
          </div>
        </div>

        <div class="modal-details">
          <div class="modal-details-row">
            <label>Dosage Form</label>
            <span id="modalDosage">—</span>
          </div>
          <div class="modal-details-row">
            <label>Quantity</label>
            <span id="modalQuantity">—</span>
          </div>
          <div class="modal-details-row">
            <label>Expiration Date</label>
            <span id="modalExpiration">—</span>
          </div>
          <div class="modal-details-row">
            <label>Condition</label>
            <span id="modalCondition">—</span>
          </div>
          <div class="modal-details-row">
            <label>Urgency Level</label>
            <span id="modalUrgency">—</span>
          </div>
          <div class="modal-details-row">
            <label>Pickup Location</label>
            <span id="modalLocation">—</span>
          </div>
        </div>

        <div class="modal-description" id="modalDescription">
          Description goes here.
        </div>
      </div>

      <div class="modal-right">
        <img id="modalImage" src="" alt="Medicine image" />
        <div class="modal-image-actions">
          <button id="modalEditBtn" class="modal-btn-small modal-btn-edit">Edit</button>
          <button id="modalDeleteBtn" class="modal-btn-small modal-btn-delete">Delete</button>
          <a id="modalMessageBtn" href="message.html" class="modal-btn-small modal-btn-message">Message</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="wrap">
      <div class="footer-top">
        <div class="footer-about">
          <h2 class="footer-logo">Donor<span>Medix</span></h2>
          <p>Connecting communities to share life-saving medicines and reduce healthcare waste.</p>
          <div class="social">
            <a href="#" aria-label="Facebook">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7h-2.2V12h2.2V9.8c0-2.2 1.3-3.5 3.3-3.5.95 0 1.95.17 1.95.17v2.15h-1.1c-1.08 0-1.42.67-1.42 1.36V12h2.42l-.39 2.9h-2.03v7A10 10 0 0 0 22 12Z"/></svg>
            </a>
            <a href="#" aria-label="Telegram">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M9.04 15.28 8.9 19c.41 0 .59-.18.8-.4l1.93-1.86 4 2.93c.74.41 1.27.2 1.46-.69l2.65-12.44c.27-1.23-.45-1.71-1.17-1.41L3.86 10.4c-1.2.47-1.18 1.14-.2 1.44l3.73 1.16 8.65-5.46c.4-.26.77-.12.47.16"/></svg>
            </a>
            <a href="#" aria-label="Instagram">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7Zm5 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm6.5-.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Z"/></svg>
            </a>
            <a href="#" aria-label="LinkedIn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6.94 7.5A2.44 2.44 0 1 1 7 2.63a2.44 2.44 0 0 1-.06 4.87ZM3.5 8.87h3.88V21H3.5V8.87Zm6.31 0h3.72v1.66h.05c.52-.98 1.78-2.02 3.67-2.02 3.92 0 4.64 2.58 4.64 5.93V21H18.7v-5.38c0-1.28-.03-2.91-1.78-2.91-1.78 0-2.05 1.39-2.05 2.82V21H9.81V8.87Z"/></svg>
            </a>
          </div>
        </div>

        <div class="footer-cols">
          <div>
            <h3>Quick Links</h3>
            <ul>
              <li><a href="#how">How It Works</a></li>
              <li><a href="browse.html">Browse Medicines</a></li>
              <li><a href="donate.html">Donate Medicine</a></li>
              <li><a href="#blog">Health Blog</a></li>
            </ul>
          </div>
          <div>
            <h3>Support</h3>
            <ul>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Safety Guidelines</a></li>
              <li><a href="#">Community Guidelines</a></li>
              <li><a href="#">Report Issue</a></li>
            </ul>
          </div>
          <div>
            <h3>Legal</h3>
            <ul>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
              <li><a href="#">Cookie Policy</a></li>
              <li><a href="#">Disclaimer</a></li>
            </ul>
          </div>
        </div>
      </div>

      <hr class="footer-hr" />
      <div class="footer-bottom">
        <p>© 2025 DonorMedix. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- SWITCHER SCRIPT -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const pills = document.querySelectorAll(".pill");

    const createPanel = document.getElementById("create-panel");
    const allDonationsPanel = document.getElementById("all-donations-panel");
    const myDonationsPanel = document.getElementById("my-donations-panel");
    const sidebar = document.getElementById("pageSidebar");
    const mainGrid = document.getElementById("mainGrid");

    function showPanel(view) {
      // hide all main panels first
      createPanel.style.display = "none";
      allDonationsPanel.style.display = "none";
      myDonationsPanel.style.display = "none";

      // hide sidebar by default & remove 2-column layout
      sidebar.style.display = "none";
      mainGrid.classList.remove("has-sidebar");

      if (view === "create") {
        createPanel.style.display = "block";
        sidebar.style.display = "block";
        mainGrid.classList.add("has-sidebar");
      } else if (view === "all") {
        allDonationsPanel.style.display = "block";
      } else if (view === "mine") {
        myDonationsPanel.style.display = "block";
      }
    }

    // default panel on load
    showPanel("create");

    pills.forEach(pill => {
      pill.addEventListener("click", () => {
        pills.forEach(p => p.classList.remove("active"));
        pill.classList.add("active");

        const view = pill.getAttribute("data-view");
        showPanel(view);
      });
    });
  });
  </script>

  <!-- MODAL SCRIPT (with owner-based buttons) -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("dmModal");
    const modalName = document.getElementById("modalName");
    const modalTypeLabel = document.getElementById("modalTypeLabel");
    const modalCategoryChip = document.getElementById("modalCategoryChip");
    const modalDosage = document.getElementById("modalDosage");
    const modalQuantity = document.getElementById("modalQuantity");
    const modalExpiration = document.getElementById("modalExpiration");
    const modalCondition = document.getElementById("modalCondition");
    const modalUrgency = document.getElementById("modalUrgency");
    const modalLocation = document.getElementById("modalLocation");
    const modalDescription = document.getElementById("modalDescription");
    const modalImage = document.getElementById("modalImage");
    const modalCloseBtn = document.getElementById("modalCloseBtn");

    const modalEditBtn = document.getElementById("modalEditBtn");
    const modalDeleteBtn = document.getElementById("modalDeleteBtn");
    const modalMessageBtn = document.getElementById("modalMessageBtn");

    let activeCard = null;

    function openModalFromCard(card) {
      activeCard = card;

      const owner = card.getAttribute("data-owner") || "other";
      const name = card.getAttribute("data-name") || "";
      const category = card.getAttribute("data-category") || "";
      const dosage = card.getAttribute("data-dosage") || "";
      const description = card.getAttribute("data-description") || "";
      const quantity = card.getAttribute("data-quantity") || "";
      const expiration = card.getAttribute("data-expiration") || "";
      const condition = card.getAttribute("data-condition") || "";
      const urgency = card.getAttribute("data-urgency") || "";
      const location = card.getAttribute("data-location") || "";
      const image = card.getAttribute("data-image") || "placeholder-medicine.jpg";

      modalTypeLabel.textContent = "Donation";
      modalName.textContent = name || "Medicine";
      modalCategoryChip.textContent = category || "Category";

      modalDosage.textContent = dosage || "—";
      modalQuantity.textContent = quantity || "—";
      modalExpiration.textContent = expiration || "—";
      modalCondition.textContent = condition || "—";
      modalUrgency.textContent = urgency || "—";
      modalLocation.textContent = location || "—";

      modalDescription.textContent = description || "No description provided.";
      modalImage.src = image;
      modalImage.alt = name || "Medicine image";

      // owner-based UI
      if (owner === "me") {
        modalEditBtn.style.display = "inline-flex";
        modalDeleteBtn.style.display = "inline-flex";
        modalMessageBtn.style.display = "none";
      } else {
        modalEditBtn.style.display = "none";
        modalDeleteBtn.style.display = "none";
        modalMessageBtn.style.display = "inline-flex";
      }

      modal.removeAttribute("hidden");
    }

    function closeModal() {
      if (!modal.hasAttribute("hidden")) {
        modal.setAttribute("hidden", "hidden");
      }
    }

    // open modal on button click
    document.querySelectorAll(".card__btn-open").forEach(btn => {
      btn.addEventListener("click", () => {
        const card = btn.closest(".card");
        if (!card) return;
        openModalFromCard(card);
      });
    });

    // Edit → scroll to form (front-end only)
    modalEditBtn.addEventListener("click", () => {
      const createPanel = document.getElementById("create-panel");
      if (createPanel) {
        createPanel.scrollIntoView({ behavior: "smooth" });
      }
      closeModal();
      // later you can add logic to pre-fill the form from activeCard
    });

    // Delete → remove the card from the list (front-end only)
    modalDeleteBtn.addEventListener("click", () => {
      if (!activeCard) return;
      if (confirm("Delete this donation card?")) {
        activeCard.remove();
        closeModal();
      }
    });

    modalCloseBtn.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });
  });
  </script>

  <!-- Cloudinary widget & your module -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
  <script type="module" src=".js"></script>
</body>
</html>
