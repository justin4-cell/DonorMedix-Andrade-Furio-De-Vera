<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DonorMedix · Medicine Requests</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --ink:#0f172a; --muted:#64748b; --line:#e2e8f0;
      --bg:#f8fafc; --card:#ffffff;
      --shadow:0 8px 22px rgba(2,6,23,.06);
      --radius:14px; --danger:#ef4444;
      --brand-2:#38bdf8;
    }
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      line-height:1.5;
      color:var(--ink);
      /* Clean, readable gradient background instead of image */
      background:linear-gradient(180deg,#e0f2fe 0%,#f8fafc 45%,#e2e8f0 100%);
      min-height:100vh;
    }

    /* HEADER */
    header.site{
      position:sticky;top:0;z-index:30;background:#0f172a;
      border-bottom:1px solid rgba(226,232,240,.15);
      box-shadow:0 2px 10px rgba(2,6,23,.25)
    }
    .header-container{
      max-width:72rem;margin:0 auto;padding:.9rem 1.25rem;
      display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.9rem
    }
    .logo{
      display:flex;align-items:center;gap:.6rem;
      color:#fff;text-decoration:none;font-weight:800;font-size:1.15rem;letter-spacing:.2px;
    }
    .logo-img{
      width:40px;height:40px;object-fit:contain;border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,.12);background:#fff0;flex:0 0 40px;
    }
    .logo-text{color:#fff;font-weight:800;font-size:1.18rem}
    nav.nav{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}
    .nav-link{
      display:inline-flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;
      font-weight:800;padding:.5rem .7rem;border-radius:10px;transition:all .15s
    }
    .nav-link svg,
    .nav-link i{
      width:18px;height:18px;flex-shrink:0;
    }
    .nav-link i{
      font-size:18px;
    }
    .nav-link:hover{background:#ffffff;color:#0f172a;transform:translateY(-1px)}
    .nav-link.active{background:rgba(255,255,255,.16);color:#ffffff}
    .header-actions{display:flex;gap:.5rem;align-items:center}
    .badge{
      position:absolute;top:-4px;right:-4px;background:#ef4444;color:#fff;
      border:2px solid #0f172a;border-radius:999px;padding:1px 6px;font-size:.72rem;
      font-weight:900;line-height:1;display:none;min-width:18px;text-align:center
    }
    .sign-in-btn{
      padding:.6rem .95rem;font:800 .9375rem system-ui,sans-serif;border-radius:10px;
      display:inline-flex;align-items:center;justify-content:center;cursor:pointer;
      background:#ffffff;color:#0f172a;border:1px solid #e2e8f0;transition:transform .15s
    }
    .sign-in-btn:hover{transform:translateY(-1px)}
    @media(max-width:720px){
      .header-container{grid-template-columns:1fr auto;grid-template-rows:auto auto}
      .logo{grid-column:1/2;grid-row:1}
      .header-actions{grid-column:2/3;grid-row:1;justify-self:end}
      nav.nav{grid-column:1/3;grid-row:2;justify-content:center;margin-top:.5rem}
    }

    /* HERO – slightly compact */
    .hero{
      width:100%;
      background:linear-gradient(180deg,rgba(56,189,248,0.06) 0%, #ffffff 100%);
      border-bottom:1px solid var(--line);
      box-shadow:0 10px 30px rgba(56,189,248,.08)
    }
    .hero-inner{
      max-width:1100px;margin:0 auto;padding:.9rem 1.5rem .85rem;text-align:center
    }
    .hero h1{font-size:2rem;color:#0f172a}
    .hero p{color:#0f172a;margin-top:.25rem;font-size:.98rem}
    @media(max-width:480px){
      .hero-inner{padding:.8rem 1rem .75rem}
      .hero h1{font-size:1.6rem}
      .hero p{font-size:.9rem}
    }

    /* MAIN LAYOUT */
    .container{max-width:1100px;margin:0 auto;padding:1rem 1.5rem 2rem}
    .grid{display:grid;grid-template-columns:1fr;gap:1rem}
    @media(min-width:1024px){
      .grid.has-sidebar{grid-template-columns:2fr 1fr}
    }

    /* SWITCHER PILLS */
    .switcher{
      margin:.4rem auto .8rem;
      display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center
    }
    .pill{
      padding:.62rem 1.05rem;border-radius:999px;border:1px solid #bfe9ff;
      background:#f0f9ff;color:#0f172a;font-weight:800;cursor:pointer;transition:all .15s;
      display:inline-flex;align-items:center;gap:.4rem;
    }
    .pill svg,
    .pill i{
      width:16px;height:16px;flex-shrink:0;
    }
    .pill i{
      font-size:16px;
    }
    .pill:hover{
      background:#ffffff;color:#0f172a;border-color:#0f172a;transform:translateY(-1px);
    }
    .pill.active{
      background:var(--brand-2);color:#ffffff;border-color:var(--brand-2);
    }

    /* PANELS */
    .panel{
      width:100%;background:var(--card);border:1px solid var(--line);
      border-radius:var(--radius);box-shadow:var(--shadow);padding:1.25rem;
    }
    .panel h2{color:#0f172a;font-size:1.25rem;margin-bottom:.75rem}
    .muted{color:var(--muted);font-size:.92rem}

    /* FORM (reuse donation layout for requests) */
    form.request-form{display:flex;flex-direction:column;gap:1rem}
    .form-row{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:768px){.form-row{grid-template-columns:1fr 1fr}}
    .field{
      display:flex;align-items:center;gap:10px;border:1px solid var(--line);
      border-radius:12px;padding:10px 12px;background:#fff
    }
    .field:focus-within{
      border-color:var(--brand-2);
      box-shadow:0 0 0 3px rgba(56,189,248,.18)
    }
    .field input[type=text],
    .field input[type=date],
    .field select,
    .field textarea{
      border:none;outline:none;background:transparent;width:100%;
      font-size:.95rem;color:#111827;
    }
    textarea{min-height:110px;resize:vertical}
    label{font-weight:900;color:#0f172a;display:block;margin:2px 0 6px}
    .required{color:#ef4444;font-weight:900}
    .upload-wrap{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .thumb{
      width:88px;height:88px;border-radius:12px;border:1px solid var(--line);
      overflow:hidden;display:grid;place-items:center;background:#f8fafc
    }
    .thumb img{width:100%;height:100%;object-fit:cover}
    .btn{padding:.65rem 1rem;border-radius:10px;font-weight:800;border:1px solid transparent;cursor:pointer}
    .btn-primary{background:#0f172a;color:#fff;border-color:#0f172a}
    .btn-primary:hover{filter:brightness(1.06)}
    .btn-ghost{background:#fff;color:#0f172a;border:1px dashed #cbd5e1}
    .btn-ghost:hover{background:#f8fafc}

    /* REQUESTS AREA (same as donations area) */
    .requests-panel{width:100%;margin-top:1rem;color:#0f172a;}
    .requests-heading-row{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;margin-bottom:.35rem;
    }
    .requests-panel h3{
      font-size:1.25rem;font-weight:800;color:#0f172a;
      display:flex;align-items:center;gap:.45rem;
    }
    .requests-panel h3 svg,
    .requests-panel h3 i{
      width:20px;height:20px;flex-shrink:0;
    }
    .requests-panel h3 i{
      font-size:20px;
    }
    .requests-panel .muted-count{font-size:.9rem;color:#64748b}

    .info-panel{
      background:var(--card);border:1px solid rgba(226,232,240,1);
      border-radius:14px;box-shadow:0 8px 22px rgba(2,6,23,0.06);
      padding:16px 20px;margin-bottom:.6rem;
    }
    .cards-panel{
      background:transparent;border:transparent;
      border-radius:14px;box-shadow:0 8px 22px rgba(2,6,23,0.06);
      padding:18px 22px 20px;
    }

    .filters-row{
      display:flex;gap:.5rem;flex-wrap:wrap;align-items:center;margin-top:.5rem;
    }
    .filters-row .field{padding:6px 10px}
    .filters-row .field i{
      font-size:18px;
      flex-shrink:0;
    }

    /* CARD DESIGN */
    .browse-grid{
      display:grid;
      grid-template-columns:1fr;
      gap:1rem;
      margin-bottom:.5rem;
    }
    @media(min-width:640px){
      .browse-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media(min-width:1024px){
      .browse-grid{grid-template-columns:repeat(3,1fr)}
    }

    .card{
      background:white;
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow:0 16px 32px rgba(2,6,23,.06), 0 4px 12px rgba(2,6,23,.04);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      transition:transform .15s, box-shadow .15s;
    }
    .card:hover{
      transform:translateY(-2px);
      box-shadow:0 20px 42px rgba(2,6,23,.10);
    }
    .card__body{
      padding:1rem;
      display:flex;
      flex-direction:column;
      gap:.4rem;
    }
    .card__footer{
      margin-top:auto;
      padding:0 1rem 1rem;
      display:flex;
      justify-content:flex-end;
    }
    .card__btn-open{
      padding:.45rem .95rem;
      border-radius:999px;
      border:1px solid #0f172a;
      background:#0f172a;
      color:#ffffff;
      font-size:.8rem;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
    }
    .card__btn-open:hover{filter:brightness(1.05)}
    .title{
      font-weight:900;margin:0;color:#0f172a;
      font-size:1.05rem;letter-spacing:.1px;
    }
    .muted{color:var(--muted);font-size:.9rem}

    /* Card meta chips with icons */
    .card-meta{
      margin-top:.35rem;
      display:flex;
      flex-wrap:wrap;
      gap:.35rem .55rem;
      font-size:.78rem;
    }
    .card-meta-item{
      display:inline-flex;
      align-items:center;
      gap:.22rem;
      padding:.18rem .48rem;
      border-radius:999px;
      background:#f1f5f9;
      color:#64748b;
    }
    .card-meta-item i{
      font-size:.75rem;
    }

    /* Urgency tag colors (for meta chips and modal chip) */
    .urgency-low{
      background:#ecfdf3 !important;
      color:#166534 !important;
    }
    .urgency-medium{
      background:#fef9c3 !important;
      color:#854d0e !important;
    }
    .urgency-high{
      background:#fee2e2 !important;
      color:#b91c1c !important;
    }
    .urgency-urgent{
      background:#fee2e2 !important;
      color:#b91c1c !important;
      box-shadow:0 0 0 1px rgba(239,68,68,.45);
    }

    /* SIDEBAR */
    .sidebar{
      display:flex;
      flex-direction:column;
      gap:1.8rem;
    }

    .sidebar .panel{
      transform:scale(.92);
      transform-origin:top center;
    }

    .impact-grid{display:grid;grid-template-columns:1fr;gap:.85rem}
    .stat{
      display:grid;align-items:center;justify-items:start;
      padding:1rem;border:1px dashed rgba(56,189,248,.25);border-radius:12px;
    }
    .stat .val{font-size:1.8rem;font-weight:800;color:#0f172a}
    @media(min-width:1200px){.stat .val{font-size:2.6rem}}

    /* MODAL (same structure as donate, text tweaked for "Request") */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(15,23,42,.65);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:60;
      padding:1.5rem;
    }
    .modal-backdrop[hidden]{display:none;}
    .modal-card{
      max-width:780px;
      width:100%;
      background:#ffffff;
      border-radius:18px;
      box-shadow:0 24px 60px rgba(15,23,42,.4);
      display:flex;
      flex-direction:row;
      overflow:hidden;
      border:1px solid #e2e8f0;
    }
    .modal-main{
      flex:1;
      padding:1.25rem 1.3rem;
      display:flex;
      flex-direction:column;
      gap:.75rem;
    }
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:.75rem;
      border-bottom:1px solid #e5e7eb;
      padding-bottom:.5rem;
    }
    .modal-title{
      font-size:1.05rem;
      font-weight:800;
      color:#0f172a;
    }
    .modal-section-title{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.09em;
      color:#94a3b8;
      font-weight:800;
    }
    .modal-chip{
      display:inline-flex;
      align-items:center;
      padding:.25rem .7rem;
      border-radius:999px;
      font-size:.72rem;
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:.08em;
      background:#eff6ff;
      color:#1d4ed8;
      border:1px solid #bfdbfe;
      gap:0.35rem;
    }
    .modal-chip i{
      font-size:12px;
    }
    .modal-chip span{
      white-space:nowrap;
    }
    .modal-close{
      border:none;
      background:transparent;
      font-size:1.2rem;
      line-height:1;
      cursor:pointer;
      color:#64748b;
    }
    .modal-details{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:.55rem .75rem;
      margin-top:.3rem;
    }
    .modal-details-row label{
      font-size:.78rem;
      font-weight:700;
      color:#64748b;
      text-transform:uppercase;
      letter-spacing:.06em;
      display:block;
    }
    .modal-details-row span{
      font-size:.9rem;
      color:#0f172a;
      font-weight:500;
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      flex-wrap:wrap;
    }
    .modal-details-row span i{
      font-size:13px;
      padding:4px;
      border-radius:999px;
      background:#e0f2fe;
      color:#0f172a;
    }

    .modal-description{
      margin-top:.5rem;
      font-size:.9rem;
      color:#111827;
      line-height:1.5;
      background:#f9fafb;
      border-radius:12px;
      padding:.65rem .75rem;
      border:1px solid #e5e7eb;
    }
    .modal-right{
      width:260px;
      background:#f1f5f9;
      display:grid;
      place-items:center;
      border-left:1px solid #e5e7eb;
      position:relative;
      overflow:hidden;
    }
    .modal-right img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      cursor:zoom-in;
    }
    .modal-image-actions{
      position:absolute;
      left:10px;
      right:10px;
      bottom:10px;
      display:flex;
      justify-content:space-between;
      gap:8px;
      align-items:flex-end;
      flex-wrap:wrap;
    }
    .modal-status-group{
      display:flex;
      gap:6px;
      flex-wrap:wrap;
    }
    .modal-actions-group{
      display:flex;
      gap:6px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .modal-btn-small{
      border:none;
      border-radius:999px;
      padding:.25rem .6rem;
      font-size:.75rem;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      text-decoration:none;
      white-space:nowrap;
      gap:.25rem;
    }
    .modal-btn-small i{
      font-size:11px;
    }

    /* Status buttons – for open / closed requests */
    .modal-btn-status{
      background:#ecfdf3;
      color:#166534;
      border:1px solid rgba(22,101,52,.18);
    }
    .modal-btn-status--off{
      background:#fef2f2;
      color:#b91c1c;
      border-color:rgba(185,28,28,.25);
    }
    .modal-btn-status--active{
      box-shadow:0 0 0 2px rgba(34,197,94,.45);
      transform:translateY(-1px);
    }
    .modal-btn-status[disabled]{
      opacity:.6;
      cursor:default;
      box-shadow:none;
    }

    /* Edit / Delete / Message buttons – aligned & readable */
    .modal-btn-edit{
      background:#0f172a;
      color:#ffffff;
    }
    .modal-btn-edit:hover{filter:brightness(1.05);}
    .modal-btn-delete{
      background:#fee2e2;
      color:#b91c1c;
      border:1px solid rgba(185,28,28,.3);
    }
    .modal-btn-delete:hover{background:#fecaca;}
    .modal-btn-message{
      background:#e0f2fe;
      color:#0f172a;
      border:1px solid #bae6fd;
    }
    .modal-btn-message:hover{background:#bae6fd;}

    @media(max-width:720px){
      .modal-card{flex-direction:column;}
      .modal-right{
        width:100%;
        max-height:260px;
      }
      .modal-image-actions{
        left:8px;right:8px;
      }
    }

    /* IMAGE VIEWER (full screen) */
    .image-viewer-backdrop{
      position:fixed;
      inset:0;
      background:rgba(15,23,42,.85);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:70;
      padding:1.5rem;
    }
    .image-viewer-backdrop[hidden]{display:none;}
    .image-viewer-card{
      max-width:900px;
      width:100%;
      max-height:90vh;
      background:#020617;
      border-radius:18px;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .image-viewer-card img{
      width:100%;
      height:100%;
      object-fit:contain;
      background:#020617;
    }
    .image-viewer-close{
      position:absolute;
      top:10px;
      right:12px;
      border:none;
      background:rgba(15,23,42,.75);
      color:#e5e7eb;
      font-size:1.8rem;
      line-height:1;
      border-radius:999px;
      width:36px;
      height:36px;
      cursor:pointer;
    }

    .footer{
      background:#0f172a;
      color:#cbd5e1;
      padding:2.5rem 1rem 1.25rem;
      margin-top: 24px;
    }
    .footer .wrap{
      max-width:1100px;
      margin:0 auto;
    }

    /* Use grid so everything lines up cleanly */
    .footer-top{
      display:grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
      column-gap:3rem;
      row-gap:2.5rem;
      align-items:flex-start;
    }

    .footer-about{
      text-align:left;
    }
    .footer-logo{
      font-size:1.6rem;
      color:#f8fafc;
      font-weight:900;
    }
    .footer-logo span{color:#38bdf8}
    .footer-about p{
      margin:10px 0 14px;
      color:#e2e8f0;
      max-width:360px;
    }
    .social{
      display:flex;
      gap:12px;
    }
    .social a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:38px;
      height:38px;
      border-radius:10px;
      background:#0b1220;
      color:#e2e8f0;
      text-decoration:none;
      transition:.2s;
      border:1px solid #1e293b;
    }
    .social a i{
      font-size:16px;
    }
    /* Hover color #38bdf8 */
    .social a:hover{
      background:#020617;
      color:#38bdf8;
      border-color:#38bdf8;
    }

    .footer-cols{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      column-gap:2.5rem;
      row-gap:1.5rem;
    }
    .footer h3{
      font-size:1rem;
      color:#f8fafc;
      margin-bottom:.75rem;
    }
    .footer ul{
      list-style:none;
    }
    .footer li+li{
      margin-top:.5rem;
    }
    .footer a{
      color:#cbd5e1;
      text-decoration:none;
      font-size:.93rem;
    }
    .footer a:hover{
      color:#38bdf8;
    }

    .footer-hr{
      border:none;
      border-top:1px solid #1e293b;
      margin:1.75rem 0 1.1rem;
    }
    .footer-bottom{
      display:flex;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      color:#ffffff;
      font-size:.88rem;
      text-align:center;
    }

    @media(max-width:768px){
      .footer-top{
        grid-template-columns:1fr;
      }
      .footer-about p{
        max-width:none;
      }
      .footer-cols{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .footer-bottom{
        flex-direction:column;
        gap:.4rem;
        align-items:center;
        text-align:center;
      }
    }

    @media(max-width:520px){
      .footer-cols{
        grid-template-columns:1fr;
      }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header class="site">
    <div class="header-container">
      <a class="logo" href="index.html" aria-label="DonorMedix Home">
        <img class="logo-img" src="donormedix.logo.png" alt="DonorMedix logo" />
        <span class="logo-text">DonorMedix</span>
      </a>

      <nav class="nav">
        <a href="home.html" class="nav-link">
          <i class="fa-solid fa-house"></i>
          Home
        </a>

        <a class="nav-link" href="browse.html">
          <i class="fa-solid fa-magnifying-glass"></i>
          Browse
        </a>

        <a href="donate.html" class="nav-link">
          <i class="fa-solid fa-hand-holding-medical"></i>
          Donate
        </a>

        <a href="request.html" class="nav-link active">
          <i class="fa-solid fa-file-medical"></i>
          Requests
        </a>
      </nav>

      <div class="header-actions">

        <button class="sign-in-btn" onclick="window.location.href='profile.html'">Sign In</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <h1>Medicine Requests</h1>
      <p>Request safe, in-date medicines and medical supplies from the community</p>
    </div>
  </section>

  <!-- MAIN -->
  <main class="container">
    <!-- Switcher -->
    <div class="switcher" role="tablist" aria-label="Request sections">
      <button class="pill" data-view="all" aria-selected="false">
        <i class="fa-solid fa-table-cells-large"></i>
        <span>All Requests</span>
      </button>
      <button class="pill" data-view="mine" aria-selected="false">
        <i class="fa-solid fa-user"></i>
        <span>My Requests</span>
      </button>
      <button class="pill active" data-view="create" aria-selected="true">
        <i class="fa-solid fa-plus"></i>
        <span>Create Request</span>
      </button>
    </div>

    <div class="grid" id="mainGrid">
      <!-- CREATE REQUEST PANEL (same layout as create donation) -->
      <section class="panel" id="create-panel">
        <h2>Request Details</h2>
        <form id="requestForm" class="request-form" autocomplete="off">
          <div>
            <label for="medicineName">Medicine/Item Needed <span class="required">*</span></label>
            <div class="field">
              <input id="medicineName" list="medicinesList" type="text" placeholder="e.g., Paracetamol 500 mg" required />
              <datalist id="medicinesList">
                <option value="Paracetamol 500 mg">
                <option value="Ibuprofen 400 mg">
                <option value="Amoxicillin 500 mg">
                <option value="Cefalexin 500 mg">
                <option value="Azithromycin 250 mg">
                <option value="Cetirizine 10 mg">
                <option value="Loratadine 10 mg">
                <option value="Vitamin C 500 mg">
                <option value="Vitamin D3 1000 IU">
                <option value="Multivitamins Capsule">
                <option value="Mefenamic Acid 500 mg">
                <option value="Co-Amoxiclav 625 mg">
                <option value="Salbutamol Inhaler">
                <option value="ORS Oral Rehydration Salts">
                <option value="Hydrocortisone 1% Cream">
                <option value="Betadine 10% Solution">
                <option value="Charcoal Activated Capsule">
                <option value="Bismuth Subsalicylate Tablet">
                <option value="Loperamide 2 mg">
                <option value="Antacid Suspension">
              </datalist>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="category">Category <span class="required">*</span></label>
              <div class="field">
                <select id="category" required>
                  <option value="Pain Relief">Pain Relief</option>
                  <option value="Antibiotic">Antibiotic</option>
                  <option value="Cough">Cough</option>
                  <option value="Other" selected>Other</option>
                </select>
              </div>
            </div>
            <div>
              <label for="urgencyLevel">Urgency Level</label>
              <div class="field">
                <select id="urgencyLevel">
                  <option value="low">Low</option>
                  <option value="medium" selected>Medium</option>
                  <option value="high">High</option>
                  <option value="urgent">Urgent</option>
                </select>
              </div>
            </div>
          </div>

          <div>
            <label for="description">Description <span class="required">*</span></label>
            <div class="field" style="align-items:flex-start">
              <textarea id="description" placeholder="Who needs it, dosage, how long you need it, other important notes…" required></textarea>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="quantity">Quantity Needed</label>
              <div class="field"><input id="quantity" type="text" placeholder="e.g., 1 box / 2 bottles" /></div>
            </div>
            <div>
              <label for="needByDate">Needed Before</label>
              <div class="field"><input id="needByDate" type="date" /></div>
            </div>
          </div>

          <!-- PHOTO -->
          <div>
            <label for="cloudinaryUploadBtn">Upload Reference Photo</label>
            <div class="upload-wrap">
              <div class="thumb">
                <img
                  id="imagePreview"
                  alt="Preview"
                  style="display:none;width:100%;height:100%;object-fit:cover;border-radius:12px;"
                >
              </div>

              <button
                type="button"
                class="btn btn-ghost"
                id="cloudinaryUploadBtn"
              >
                Choose image
              </button>

              <input type="hidden" id="imageUrl" name="imageUrl">
            </div>
          </div>

          <!-- LOCATION -->
          <div>
            <label>Pickup Location <span class="required">*</span></label>
            <div class="form-row">
              <div class="field"><select id="selRegion"><option value="">Select Region…</option></select></div>
              <div class="field"><select id="selProvince" disabled><option value="">Select Province…</option></select></div>
            </div>
            <div class="form-row">
              <div class="field"><select id="selCityMun" disabled><option value="">Select City/Municipality…</option></select></div>
              <div class="field"><select id="selBarangay" disabled><option value="">Select Barangay…</option></select></div>
            </div>
            <div class="field" style="margin-top:10px">
              <input id="locationText" type="text" placeholder="Or type an address/landmark (optional)" />
            </div>
            <p class="muted" style="margin-top:6px">
              If you skip the dropdowns, we’ll use your saved profile location.
            </p>
          </div>

          <!-- BUTTONS -->
          <div style="display:flex;gap:8px;margin-top:.25rem;flex-wrap:wrap">
            <button type="submit" class="btn btn-primary">Submit Request</button>
            <button type="button" class="btn btn-ghost" id="btnBack">Back</button>
          </div>

          <p class="muted" style="margin-top:10px">
            Requests are reviewed and visible to community donors. Please avoid sharing private medical details.
          </p>
        </form>
      </section>

      <!-- ALL REQUESTS -->
      <section class="requests-panel" id="all-requests-panel" style="display:none">
        <section class="info-panel">
          <div class="requests-heading-row">
            <h3>
              <i class="fa-solid fa-pills"></i>
              <span>All Requests</span>
            </h3>
            <div class="muted-count" id="allRequestsCount" aria-live="polite">
              Showing community requests
            </div>
          </div>

          <div class="filters-row" role="region" aria-label="All requests filters">
            <div style="min-width:200px">
              <div class="field" style="gap:8px; display:flex; align-items:center;">
                <i class="fa-solid fa-prescription-bottle-medical" aria-hidden="true"></i>
                <select id="filterCategory" aria-label="Filter by category">
                  <option value="">All Categories</option>
                  <option value="Pain Relief">Pain Relief</option>
                  <option value="Antibiotic">Antibiotic</option>
                  <option value="Cough">Cough</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>

            <div style="min-width:180px">
              <div class="field" style="gap:8px; display:flex; align-items:center;">
                <i class="fa-regular fa-clock" aria-hidden="true"></i>
                <select id="filterUrgency" aria-label="Filter by urgency">
                  <option value="">All Urgency Levels</option>
                  <option value="low">Low</option>
                  <option value="medium">Medium</option>
                  <option value="high">High</option>
                  <option value="urgent">Urgent</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <section class="cards-panel">
          <div class="browse-grid" id="allRequestsList">
            <!-- SAMPLE CARDS – Firestore cards will replace these once loaded -->
            <article class="card"
              data-owner="other"
              data-status="open"
              data-name="Paracetamol 500mg Tablets"
              data-category="Pain Relief"
              data-urgency="medium"
              data-description="For community clinic patients needing fever and pain relief."
              data-quantity="2 boxes (20 tablets each)"
              data-needby="November 2025"
              data-location="Quezon City, Metro Manila"
              data-image="paracetamol-request.jpg">
              <div class="card__body">
                <h3 class="title">Paracetamol 500mg Tablets</h3>
                <p class="muted">Requested by Barangay Health Center</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-pills" aria-hidden="true"></i>
                    <span>Pain Relief</span>
                  </span>
                  <span class="card-meta-item urgency-medium">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>Medium urgency</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Quezon City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="other"
              data-status="open"
              data-name="Amoxicillin 500mg Capsules"
              data-category="Antibiotic"
              data-urgency="high"
              data-description="Needed for indigent patients with ongoing bacterial infections."
              data-quantity="1 box (30 capsules)"
              data-needby="July 2025"
              data-location="Makati City"
              data-image="amoxicillin-request.jpg">
              <div class="card__body">
                <h3 class="title">Amoxicillin 500mg Capsules</h3>
                <p class="muted">Requested by Juan Dela Cruz</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-capsules" aria-hidden="true"></i>
                    <span>Antibiotic</span>
                  </span>
                  <span class="card-meta-item urgency-high">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>High urgency</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Makati City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="other"
              data-status="open"
              data-name="Salbutamol Inhaler"
              data-category="Bronchodilator"
              data-urgency="urgent"
              data-description="For patients with frequent asthma attacks in barangay health post."
              data-quantity="3 inhalers"
              data-needby="As soon as possible"
              data-location="Pasig City"
              data-image="salbutamol-inhaler-request.jpg">
              <div class="card__body">
                <h3 class="title">Salbutamol Inhaler</h3>
                <p class="muted">Requested by City Clinic</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-lungs" aria-hidden="true"></i>
                    <span>Bronchodilator</span>
                  </span>
                  <span class="card-meta-item urgency-urgent">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>Urgent</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Pasig City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>
          </div>
        </section>
      </section>

      <!-- MY REQUESTS -->
      <section class="requests-panel" id="my-requests-panel" style="display:none;">
        <section class="info-panel">
          <div class="requests-heading-row">
            <h3>
              <i class="fa-solid fa-user"></i>
              <span>My Requests</span>
            </h3>
            <div class="muted-count" id="myRequestsCount" aria-live="polite">
              Showing my requests
            </div>
          </div>
        </section>

        <section class="cards-panel">
          <div class="browse-grid" id="myRequestsList" aria-live="polite">
            <!-- SAMPLE CARDS FOR CURRENT USER – Firestore will replace -->
            <article class="card"
              data-owner="me"
              data-status="open"
              data-name="Losartan 50mg Tablets"
              data-category="Other"
              data-urgency="medium"
              data-description="Maintenance medicine for hypertension, requested for one-month supply."
              data-quantity="1 box (30 tablets)"
              data-needby="May 2025"
              data-location="Caloocan City"
              data-image="losartan-request.jpg">
              <div class="card__body">
                <h3 class="title">Losartan 50mg Tablets</h3>
                <p class="muted">Requested by You</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-pills" aria-hidden="true"></i>
                    <span>Other</span>
                  </span>
                  <span class="card-meta-item urgency-medium">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>Medium urgency</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Caloocan City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="me"
              data-status="open"
              data-name="Salbutamol Nebules"
              data-category="Other"
              data-urgency="high"
              data-description="Nebulization solution for asthma attacks, requested for home and clinic use."
              data-quantity="2 boxes"
              data-needby="March 2025"
              data-location="Manila City"
              data-image="salbutamol-nebules-request.jpg">
              <div class="card__body">
                <h3 class="title">Salbutamol Nebules</h3>
                <p class="muted">Requested by You</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-lungs" aria-hidden="true"></i>
                    <span>Other</span>
                  </span>
                  <span class="card-meta-item urgency-high">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>High urgency</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Manila City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>

            <article class="card"
              data-owner="me"
              data-status="open"
              data-name="Omeprazole 20mg Capsules"
              data-category="Other"
              data-urgency="low"
              data-description="For hyperacidity and GERD, requested for short-term treatment."
              data-quantity="1 box (30 capsules)"
              data-needby="January 2026"
              data-location="Taguig City"
              data-image="omeprazole-request.jpg">
              <div class="card__body">
                <h3 class="title">Omeprazole 20mg Capsules</h3>
                <p class="muted">Requested by You</p>
                <div class="card-meta">
                  <span class="card-meta-item">
                    <i class="fa-solid fa-capsules" aria-hidden="true"></i>
                    <span>Other</span>
                  </span>
                  <span class="card-meta-item urgency-low">
                    <i class="fa-solid fa-bolt" aria-hidden="true"></i>
                    <span>Low urgency</span>
                  </span>
                  <span class="card-meta-item">
                    <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                    <span>Taguig City</span>
                  </span>
                </div>
              </div>
              <div class="card__footer">
                <button type="button" class="card__btn-open">Open</button>
              </div>
            </article>
          </div>
        </section>
      </section>

      <!-- SIDEBAR (only for Create view, same style as donate.html) -->
      <aside class="sidebar" id="pageSidebar" style="display:none">
        <section class="panel" style="height:max-content">
          <h2>Request Guidelines</h2>
          <ul style="display:grid;gap:.6rem;list-style:none;margin-bottom:.25rem">
            <li>Be specific about medicine name, strength, and dosage.</li>
            <li>Explain briefly who needs the medicine and why.</li>
            <li>Set an appropriate urgency level.</li>
            <li>Provide a safe pickup area or general location.</li>
          </ul>
        </section>

        <section class="panel" style="height:max-content">
          <h2>Your Stats</h2>
          <div class="impact-grid">
            <div class="stat"><div class="val" id="youRequests">0</div><div class="muted">Your Requests</div></div>
            <div class="stat"><div class="val" id="youHelpedPeople">0</div><div class="muted">People You Helped*</div></div>
          </div>
        </section>

        <section class="panel" style="height:max-content">
          <h2>Community Impact</h2>
          <div class="impact-grid">
            <div class="stat"><div class="val" id="allRequests">0</div><div class="muted">Requests Posted</div></div>
            <div class="stat"><div class="val" id="peopleHelped">0</div><div class="muted">People Helped</div></div>
          </div>
        </section>
      </aside>
    </div>
  </main>

  <!-- MODAL ROOT -->
  <div id="requestModal" class="modal-backdrop" hidden>
    <div class="modal-card">
      <div class="modal-main">
        <div class="modal-header">
          <div>
            <div class="modal-section-title" id="modalTypeLabel">Request</div>
            <div class="modal-title" id="modalName">Medicine name</div>
          </div>
          <div style="display:flex;align-items:flex-start;gap:.4rem;">
            <span class="modal-chip" id="modalCategoryChip">
              <i class="fa-solid fa-prescription-bottle-medical" aria-hidden="true"></i>
              <span>Category</span>
            </span>
            <button class="modal-close" type="button" id="modalCloseBtn">&times;</button>
          </div>
        </div>

        <div class="modal-details">
          <div class="modal-details-row">
            <label>Urgency Level</label>
            <span id="modalUrgency"></span>
          </div>
          <div class="modal-details-row">
            <label>Quantity Needed</label>
            <span id="modalQuantity"></span>
          </div>
          <div class="modal-details-row">
            <label>Needed Before</label>
            <span id="modalNeedBy"></span>
          </div>
          <div class="modal-details-row">
            <label>Location</label>
            <span id="modalLocation"></span>
          </div>
        </div>

        <div class="modal-description" id="modalDescription">
          Description goes here.
        </div>
      </div>

      <div class="modal-right">
        <img id="modalImage" src="" alt="Requested medicine image" />
        <div class="modal-image-actions">
          <!-- LEFT SIDE: Open / Closed -->
          <div class="modal-status-group">
            <button id="modalStatusOpen" type="button" class="modal-btn-small modal-btn-status">
              <i class="fa-solid fa-circle-check"></i>
              Open
            </button>
            <button id="modalStatusClosed" type="button" class="modal-btn-small modal-btn-status modal-btn-status--off">
              <i class="fa-solid fa-circle-xmark"></i>
              Closed
            </button>
          </div>

          <!-- RIGHT SIDE: Edit / Delete / Message -->
          <div class="modal-actions-group">
            <button id="modalEditBtn" class="modal-btn-small modal-btn-edit">
              <i class="fa-solid fa-pen-to-square"></i>
              Edit
            </button>
            <button id="modalDeleteBtn" class="modal-btn-small modal-btn-delete">
              <i class="fa-solid fa-trash-can"></i>
              Delete
            </button>
            <a id="modalMessageBtn" href="message.html" class="modal-btn-small modal-btn-message">
              <i class="fa-regular fa-message"></i>
              Message
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- IMAGE VIEWER OVERLAY -->
  <div id="imageViewer" class="image-viewer-backdrop" hidden>
    <div class="image-viewer-card">
      <button type="button" class="image-viewer-close" id="imageViewerClose">&times;</button>
      <img id="imageViewerImg" src="" alt="Full-size medicine image">
    </div>
  </div>

<footer class="footer">
  <div class="wrap">
    <div class="footer-top">
      <div class="footer-about">
        <h2 class="footer-logo">Donor<span>Medix</span></h2>
        <p>Connecting communities to share life-saving medicines and reduce healthcare waste.</p>

        <div class="social" aria-label="DonorMedix social links">
            <a href="https://www.facebook.com/share/1AZx9dNn3p/" aria-label="Facebook">
              <i class="fa-brands fa-facebook-f"></i>
            </a>
            <a href="http://t.me/boss_tuyo" aria-label="Telegram">
              <i class="fa-brands fa-telegram"></i>
            </a>
            <a href="https://l.messenger.com/l.php?u=https%3A%2F%2Fwww.instagram.com%2Fsilent_kups%3Figsh%3DMWw3aWl1YXp4ZWF1cg%253D%253D&h=AT1Lg1U0BZYoe69xGXYk1o3aOiq3NSHnKFVDtJRx7dujS0D0SUXbWkAGxj3gZYMin_OCWvV0MHIWJpOnJALKQfWMAAlXt5nvxEOZcaG3XqY7oHQICS29yFvfLnhbsTC6FS-HXmxjhr3_QFEH1xRH1A" aria-label="Instagram">
              <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="https://www.linkedin.com/feed/?trk=guest_homepage-basic_google-one-tap-submit" aria-label="LinkedIn">
              <i class="fa-brands fa-linkedin-in"></i>
            </a>
          </div>
      </div>

      <div class="footer-cols">
        <div class="footer-col">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="donations.html">Donations</a></li>
            <li><a href="request.html">Requests</a></li>
            <li><a href="about.html">About Us</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>Contact</h3>
          <ul>
            <li>Email: justinandrade@gmail.com</li>
            <li>Phone: +63 901 567 23 </li>
            <li>Location: Lucena City, Philippines</li>
          </ul>
        </div>
      </div>
    </div>

    <hr class="footer-hr" />
    <div class="footer-bottom">
      <p>© 2025 DonorMedix. All rights reserved.</p>
    </div>
  </div>
</footer>

  <!-- Cloudinary widget & your Firestore logic for REQUESTS -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
  <script type="module" src="request.js"></script>
</body>
</html>
